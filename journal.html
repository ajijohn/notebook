<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Notebook</title>
  <meta name="description" content="Notebook of my studies, research and wayward explorations.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Notebook" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Notebook of my studies, research and wayward explorations." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Notebook" />
  
  <meta name="twitter:description" content="Notebook of my studies, research and wayward explorations." />
  

<meta name="author" content="Aji John">


<meta name="date" content="2018-07-27">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="references.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Resarch-notebook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preamble</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#areas-of-interest"><i class="fa fa-check"></i><b>1.1</b> Areas of interest</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#published-papers"><i class="fa fa-check"></i><b>1.2</b> Published papers</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#un-published-papers"><i class="fa fa-check"></i><b>1.3</b> Un-Published papers</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="background.html"><a href="background.html"><i class="fa fa-check"></i><b>3</b> Background</a><ul>
<li class="chapter" data-level="3.1" data-path="background.html"><a href="background.html#algaebra"><i class="fa fa-check"></i><b>3.1</b> Algaebra</a></li>
<li class="chapter" data-level="3.2" data-path="background.html"><a href="background.html#statistics"><i class="fa fa-check"></i><b>3.2</b> Statistics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="literature.html"><a href="literature.html"><i class="fa fa-check"></i><b>4</b> Literature</a></li>
<li class="chapter" data-level="5" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>5</b> Methods</a></li>
<li class="chapter" data-level="6" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>6</b> Applications</a><ul>
<li class="chapter" data-level="6.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>6.1</b> Example one</a></li>
<li class="chapter" data-level="6.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>6.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>7</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="8" data-path="journal.html"><a href="journal.html"><i class="fa fa-check"></i><b>8</b> Journal</a><ul>
<li class="chapter" data-level="8.1" data-path="journal.html"><a href="journal.html#section"><i class="fa fa-check"></i><b>8.1</b> 4-12-2018</a><ul>
<li class="chapter" data-level="8.1.1" data-path="journal.html"><a href="journal.html#ekoseminar"><i class="fa fa-check"></i><b>8.1.1</b> ekoseminar</a></li>
<li class="chapter" data-level="8.1.2" data-path="journal.html"><a href="journal.html#meeting-with-jhrl"><i class="fa fa-check"></i><b>8.1.2</b> meeting with jhrl</a></li>
<li class="chapter" data-level="8.1.3" data-path="journal.html"><a href="journal.html#ekoclimate"><i class="fa fa-check"></i><b>8.1.3</b> ekoclimate</a></li>
<li class="chapter" data-level="8.1.4" data-path="journal.html"><a href="journal.html#trenchr"><i class="fa fa-check"></i><b>8.1.4</b> trenchR</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="journal.html"><a href="journal.html#section-1"><i class="fa fa-check"></i><b>8.2</b> 4-13-2018</a></li>
<li class="chapter" data-level="8.3" data-path="journal.html"><a href="journal.html#section-2"><i class="fa fa-check"></i><b>8.3</b> 4-20-2008</a></li>
<li class="chapter" data-level="8.4" data-path="journal.html"><a href="journal.html#section-3"><i class="fa fa-check"></i><b>8.4</b> 4-23-2008</a></li>
<li class="chapter" data-level="8.5" data-path="journal.html"><a href="journal.html#section-4"><i class="fa fa-check"></i><b>8.5</b> 4-29-2008</a></li>
<li class="chapter" data-level="8.6" data-path="journal.html"><a href="journal.html#section-5"><i class="fa fa-check"></i><b>8.6</b> 5-21-2018</a></li>
<li class="chapter" data-level="8.7" data-path="journal.html"><a href="journal.html#section-6"><i class="fa fa-check"></i><b>8.7</b> 7-25-2018</a></li>
<li class="chapter" data-level="8.8" data-path="journal.html"><a href="journal.html#section-7"><i class="fa fa-check"></i><b>8.8</b> 7-26-2018</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Notebook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="journal" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Journal</h1>
<p>Daily <em>lab notes</em></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(tidyverse)</code></pre></div>
<pre><code>## ── Attaching packages ───────────────────────────────────────────── tidyverse 1.2.1 ──</code></pre>
<pre><code>## ✔ tibble  1.4.2     ✔ purrr   0.2.4
## ✔ tidyr   0.8.0     ✔ dplyr   0.7.4
## ✔ readr   1.1.1     ✔ stringr 1.3.1
## ✔ tibble  1.4.2     ✔ forcats 0.3.0</code></pre>
<pre><code>## ── Conflicts ──────────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(lubridate)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     date</code></pre>
<div id="section" class="section level2">
<h2><span class="header-section-number">8.1</span> 4-12-2018</h2>
<div id="ekoseminar" class="section level3">
<h3><span class="header-section-number">8.1.1</span> ekoseminar</h3>
<p>Urban ecosystems are undergoing evolution at a much faster pace than one would imagine. Thinking about mutation which introduce allele frequency key to heritable diversity ?</p>
</div>
<div id="meeting-with-jhrl" class="section level3">
<h3><span class="header-section-number">8.1.2</span> meeting with jhrl</h3>
<p>Certain species do flower early - confirmed by JHRL. The poster we presented does make sense.</p>
</div>
<div id="ekoclimate" class="section level3">
<h3><span class="header-section-number">8.1.3</span> ekoclimate</h3>
<p>The energy budget of the area increases if the type of the cover changes, i.e if it changes from deciduous forest to crop/grassland then the net Long Wave radiation(flux?) increases. Long wave is the one that is reflected, so the area with a grass will absorb more heat through the day , and emilt radiation during the night? (More cooling ?). So, should we see more diurnal variation in crop/grasslands than forests ?. How should one charaterize the total energy flux on grasslands vs forests?</p>
<p>Shortware is the incoming radiation - i.e having a shorter wavelength, and when is reflected, it becomes long wave radiation. The longwave radiation emitted out is calculated by multipying Stephan Boltzman constant multiplied by epsilion(emissivity) and Temperature^4(Temperature of the object).</p>
</div>
<div id="trenchr" class="section level3">
<h3><span class="header-section-number">8.1.4</span> trenchR</h3>
<p>Thermal conductance wrt to animals define the amount of heat which can escape out of animals. It depends on the difference between the animal and the outside temperature and you multipy by the thickness(lambda) and a proportion of the surface area(true area exposed to solar radiation).</p>
<p>Surace area to calculate the exposure is related to the exposed area - tricky as animals come in all shapes, mostly cylindrical with a sphere head if land based.</p>
</div>
</div>
<div id="section-1" class="section level2">
<h2><span class="header-section-number">8.2</span> 4-13-2018</h2>
</div>
<div id="section-2" class="section level2">
<h2><span class="header-section-number">8.3</span> 4-20-2008</h2>
<p>Heat transfer coefficient for Lizards. It is linear with windspeeed, and slope changes when the lizard is parallel or transverse</p>
</div>
<div id="section-3" class="section level2">
<h2><span class="header-section-number">8.4</span> 4-23-2008</h2>
<p>Get diurnal variation across 5 sites at Mt Rainier</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Load a file</span>
Paradise_<span class="dv">2017</span>&lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;./data/ParadiseWind_5380_feet_2017.csv&#39;</span>)
CampMuir_<span class="dv">2017</span>&lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;./data/CampMuir_10110_feet_2017.csv&#39;</span>)
Sunriseupper_<span class="dv">2017</span>&lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;./data/SunriseUpper_6880_feet_2017.csv&#39;</span>)

Paradise_<span class="dv">2017</span><span class="op">$</span>date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(Paradise_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST., <span class="st">&quot;%Y-%m-%d&quot;</span>)
Paradise_<span class="dv">2017</span><span class="op">$</span>hr &lt;-<span class="kw">strftime</span>(Paradise_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.,<span class="st">&#39;%H&#39;</span>)
Paradise_<span class="dv">2017</span><span class="op">$</span>min &lt;-<span class="kw">strftime</span>(Paradise_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.,<span class="st">&#39;%M&#39;</span>)
Paradise_<span class="dv">2017</span><span class="op">$</span>month &lt;-<span class="st"> </span><span class="kw">strftime</span>(Paradise_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.,<span class="st">&#39;%m&#39;</span>)
CampMuir_<span class="dv">2017</span><span class="op">$</span>date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(CampMuir_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST., <span class="st">&quot;%Y-%m-%d&quot;</span>)
CampMuir_<span class="dv">2017</span><span class="op">$</span>hr &lt;-<span class="kw">strftime</span>(CampMuir_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.,<span class="st">&#39;%H&#39;</span>)
CampMuir_<span class="dv">2017</span><span class="op">$</span>min &lt;-<span class="kw">strftime</span>(CampMuir_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.,<span class="st">&#39;%M&#39;</span>)
CampMuir_<span class="dv">2017</span><span class="op">$</span>month &lt;-<span class="kw">strftime</span>(CampMuir_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.,<span class="st">&#39;%m&#39;</span>)
Sunriseupper_<span class="dv">2017</span><span class="op">$</span>date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(Sunriseupper_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST., <span class="st">&quot;%Y-%m-%d&quot;</span>)
Sunriseupper_<span class="dv">2017</span><span class="op">$</span>hr &lt;-<span class="kw">strftime</span>(Sunriseupper_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.,<span class="st">&#39;%H&#39;</span>)
Sunriseupper_<span class="dv">2017</span><span class="op">$</span>min &lt;-<span class="kw">strftime</span>(Sunriseupper_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.,<span class="st">&#39;%M&#39;</span>)
Sunriseupper_<span class="dv">2017</span><span class="op">$</span>month &lt;-<span class="st"> </span><span class="kw">strftime</span>(Sunriseupper_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.,<span class="st">&#39;%m&#39;</span>)


<span class="kw">str</span>(Paradise_<span class="dv">2017</span>)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    8760 obs. of  11 variables:
##  $ Date.Time..PST.         : Factor w/ 8760 levels &quot;2017-01-01 00:00&quot;,..: 8760 8759 8758 8757 8756 8755 8754 8753 8752 8751 ...
##  $ Battery.Voltage..v.     : num  13 13 12.4 12.9 12.9 ...
##  $ Wind.Speed.Minimum..mph.: num  0 0 0 0.71 1.42 2.13 0 0 0 0.71 ...
##  $ Wind.Speed.Average..mph.: num  1.68 1.68 1.6 2.23 2.76 ...
##  $ Wind.Speed.Maximum..mph.: num  3.55 3.55 3.55 3.55 3.55 4.26 3.55 3.55 4.26 6.39 ...
##  $ Wind.Direction..deg..   : num  21.04 6.89 19.41 26.65 16.74 ...
##  $ Solar.Pyranometer..W.m2.: num  0 0 0 0 0 ...
##  $ date                    : Date, format: &quot;2017-12-31&quot; &quot;2017-12-31&quot; ...
##  $ hr                      : chr  &quot;00&quot; &quot;00&quot; &quot;00&quot; &quot;00&quot; ...
##  $ min                     : chr  &quot;00&quot; &quot;00&quot; &quot;00&quot; &quot;00&quot; ...
##  $ month                   : chr  &quot;12&quot; &quot;12&quot; &quot;12&quot; &quot;12&quot; ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Paradise_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(date,Solar.Pyranometer..W.m2.)) <span class="op">+</span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st">  </span><span class="kw">stat_smooth</span>(<span class="dt">se =</span> <span class="ot">TRUE</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Solar Radiation at Paradise(5380 ft)&quot;</span>)<span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Date&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Solar Irradiance(W/m^2)&quot;</span>)</code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="Research_book_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">CampMuir_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(date,Solar.Pyranometer..W.m2.)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st">  </span><span class="kw">stat_smooth</span>(<span class="dt">se =</span> <span class="ot">TRUE</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Solar Radiation at CampMuir(10110 ft)&quot;</span>)<span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Date&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Solar Irradiance(W/m^2)&quot;</span>)</code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="Research_book_files/figure-html/unnamed-chunk-5-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Sunriseupper_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(date,Solar.Pyranometer..W.m2.)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st">  </span><span class="kw">stat_smooth</span>(<span class="dt">se =</span> <span class="ot">TRUE</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Solar Radiation at Sunrise-Upper(6880 ft)&quot;</span>)<span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Date&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Solar Irradiance(W/m^2)&quot;</span>)</code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="Research_book_files/figure-html/unnamed-chunk-5-3.png" width="672" /></p>
<p>Feedback</p>
<p>Better to do it houry so that daily patterns do confound it. So, now we have hourly solar radiation across all the sites.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 4-28-2008

<span class="co">#</span>

<span class="kw">ggplot</span>(Paradise_<span class="dv">2017</span>, <span class="kw">aes</span>(hr,Solar.Pyranometer..W.m2.))<span class="op">+</span>
<span class="st">  </span><span class="kw">stat_boxplot</span>( <span class="kw">aes</span>(hr,Solar.Pyranometer..W.m2.), 
    <span class="dt">geom=</span><span class="st">&#39;errorbar&#39;</span>, <span class="dt">linetype=</span><span class="dv">1</span>, <span class="dt">width=</span><span class="fl">0.5</span>)<span class="op">+</span><span class="st">  </span><span class="co">#whiskers</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>( <span class="kw">aes</span>(hr,Solar.Pyranometer..W.m2.),<span class="dt">outlier.shape=</span><span class="dv">1</span>) <span class="op">+</span><span class="st">    </span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.y=</span>mean, <span class="dt">geom=</span><span class="st">&quot;point&quot;</span>, <span class="dt">size=</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.data =</span> mean_se, <span class="dt">geom =</span> <span class="st">&quot;errorbar&quot;</span>)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> <span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>,<span class="dt">x=</span><span class="dv">20</span>,<span class="dt">y=</span><span class="dv">55</span>,<span class="dt">label=</span><span class="st">&quot;wassup!&quot;</span> , <span class="dt">family=</span><span class="st">&quot;xkcd&quot;</span>
           )</code></pre></div>
<pre><code>## mapping: x = ~x, y = ~y 
## geom_text: na.rm = FALSE
## stat_identity: na.rm = FALSE
## position_identity</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 4-28-2008

<span class="co">#</span>
<span class="kw">ggplot</span>(CampMuir_<span class="dv">2017</span>, <span class="kw">aes</span>(hr,Solar.Pyranometer..W.m2.))<span class="op">+</span>
<span class="st">  </span><span class="kw">stat_boxplot</span>( <span class="kw">aes</span>(hr,Solar.Pyranometer..W.m2.), 
    <span class="dt">geom=</span><span class="st">&#39;errorbar&#39;</span>, <span class="dt">linetype=</span><span class="dv">1</span>, <span class="dt">width=</span><span class="fl">0.5</span>)<span class="op">+</span><span class="st">  </span><span class="co">#whiskers</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>( <span class="kw">aes</span>(hr,Solar.Pyranometer..W.m2.),<span class="dt">outlier.shape=</span><span class="dv">1</span>) <span class="op">+</span><span class="st">    </span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.y=</span>mean, <span class="dt">geom=</span><span class="st">&quot;point&quot;</span>, <span class="dt">size=</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.data =</span> mean_se, <span class="dt">geom =</span> <span class="st">&quot;errorbar&quot;</span>)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>It does confirm that higher the sites, the solar radiation is slightly higher.</p>
</div>
<div id="section-4" class="section level2">
<h2><span class="header-section-number">8.5</span> 4-29-2008</h2>
<p>Lets assume that solar radiation is infact more relevant at higher elevations, so snowmelt would be at a faster rate at higher elevations. Is snowmelt even at all the elevations ? Intuitively no as we often see that peaks hold-on to snow longer. (Just aside discussion).</p>
<p>Here, the goal is to see if there is a difference in radiation recieved at the sites. Reasoning being if the solar radiation recorded is different, that would mean differemt growing degree days. Lets look for June, July and August(JJA Summer). Summer solstice - June 21st.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 4-29-2008
<span class="kw">library</span>(gridExtra)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;gridExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     combine</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#</span>



g1 &lt;-<span class="st"> </span>Paradise_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">filter</span>(month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;06&#39;</span>,<span class="st">&#39;07&#39;</span>,<span class="st">&#39;08&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>( <span class="kw">aes</span>(hr,Solar.Pyranometer..W.m2.)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">stat_summary</span>(<span class="dt">colour =</span> <span class="st">&quot;red&quot;</span>,<span class="dt">size=</span><span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_classic</span>() <span class="op">+</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span><span class="st">     </span><span class="kw">xlab</span>(<span class="st">&quot;Hour&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Paradise(5k ft) &quot;</span>)


g2 &lt;-<span class="st"> </span>CampMuir_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">filter</span>(month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;06&#39;</span>,<span class="st">&#39;07&#39;</span>,<span class="st">&#39;08&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>( <span class="kw">aes</span>(hr,Solar.Pyranometer..W.m2.)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">stat_summary</span>(<span class="dt">colour =</span> <span class="st">&quot;red&quot;</span>,<span class="dt">size=</span><span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_classic</span>() <span class="op">+</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span><span class="st">     </span><span class="kw">xlab</span>(<span class="st">&quot;Hour&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Camp Muir(10k ft) &quot;</span>)


<span class="kw">grid.arrange</span>(g1, g2,<span class="dt">ncol=</span><span class="dv">2</span>, <span class="dt">top =</span> <span class="st">&quot;JJA - Mean Hourly Solar Radiation at 2 elevations&quot;</span>)</code></pre></div>
<pre><code>## No summary function supplied, defaulting to `mean_se()</code></pre>
<pre><code>## No summary function supplied, defaulting to `mean_se()</code></pre>
<p><img src="Research_book_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 4-29-2008
<span class="kw">library</span>(gridExtra)
<span class="co">#</span>



g3 &lt;-<span class="st"> </span>Paradise_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">filter</span>(month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;06&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>( <span class="kw">aes</span>(hr,Solar.Pyranometer..W.m2.)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">theme_classic</span>() <span class="op">+</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span><span class="st">     </span><span class="kw">xlab</span>(<span class="st">&quot;Hour&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Paradise(5k ft) &quot;</span>)


g4 &lt;-<span class="st"> </span>CampMuir_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">filter</span>(month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;06&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>( <span class="kw">aes</span>(hr,Solar.Pyranometer..W.m2.)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>() <span class="op">+</span>
<span class="st">   </span><span class="kw">theme_classic</span>() <span class="op">+</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span><span class="st">     </span><span class="kw">xlab</span>(<span class="st">&quot;Hour&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Camp Muir(10k ft) &quot;</span>)


<span class="kw">grid.arrange</span>(g3, g4,<span class="dt">ncol=</span><span class="dv">2</span>, <span class="dt">top =</span> <span class="st">&quot;June - Max Hourly Solar Radiation at 2 elevations&quot;</span>)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#ggplotly()</span></code></pre></div>
<p>Lets check the daily max for each day in summer(JJA)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 4-29-2008
<span class="kw">library</span>(gridExtra)
<span class="co">#</span>



g5 &lt;-<span class="st"> </span>Paradise_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">filter</span>(month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;06&#39;</span>,<span class="st">&#39;07&#39;</span>,<span class="st">&#39;08&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(date) <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">maxSol =</span> <span class="kw">max</span>(Solar.Pyranometer..W.m2.)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>( <span class="kw">aes</span>(date,maxSol)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">theme_classic</span>() <span class="op">+</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span><span class="st">     </span><span class="kw">xlab</span>(<span class="st">&quot;Date&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Paradise(5k ft) &quot;</span>)


g6 &lt;-<span class="st"> </span>CampMuir_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">filter</span>(month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;06&#39;</span>,<span class="st">&#39;07&#39;</span>,<span class="st">&#39;08&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(date) <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">maxSol =</span> <span class="kw">max</span>(Solar.Pyranometer..W.m2.)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>( <span class="kw">aes</span>(date,maxSol)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">theme_classic</span>() <span class="op">+</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span><span class="st">     </span><span class="kw">xlab</span>(<span class="st">&quot;Date&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Camp Muir(10k ft) &quot;</span>)


<span class="kw">grid.arrange</span>(g5, g6,<span class="dt">ncol=</span><span class="dv">2</span>, <span class="dt">top =</span> <span class="st">&quot;JJA - Daily Max Solar Radiation at 2 elevations&quot;</span>)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#ggplotly()</span></code></pre></div>
<p>Compare wind and solar at two sites</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 4-29-2008
<span class="kw">library</span>(gridExtra)
<span class="co">#</span>



g5 &lt;-<span class="st"> </span>Paradise_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">filter</span>(month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;06&#39;</span>,<span class="st">&#39;07&#39;</span>,<span class="st">&#39;08&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(date) <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">maxSol =</span> <span class="kw">max</span>(Solar.Pyranometer..W.m2.),<span class="dt">maxWind =</span> <span class="kw">max</span>(Wind.Speed.Average..mph.)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,<span class="kw">log</span>(maxSol),<span class="dt">color=</span><span class="st">&#39;log Solar(W/m^2)&#39;</span>) ) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,maxWind,<span class="dt">color=</span><span class="st">&#39;Wind(m/h)&#39;</span>)) <span class="op">+</span>
<span class="st">    </span><span class="kw">theme_classic</span>() <span class="op">+</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span><span class="st">     </span><span class="kw">xlab</span>(<span class="st">&quot;Date&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Paradise(5k ft) &quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Variable&quot;</span>)


g6 &lt;-<span class="st"> </span>CampMuir_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">filter</span>(month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;06&#39;</span>,<span class="st">&#39;07&#39;</span>,<span class="st">&#39;08&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(date) <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">maxSol =</span> <span class="kw">max</span>(Solar.Pyranometer..W.m2.),<span class="dt">maxWind =</span> <span class="kw">max</span>(Wind.Speed.Average..mph.)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,<span class="kw">log</span>(maxSol),<span class="dt">color=</span><span class="st">&#39;log Solar(W/m^2)&#39;</span>) ) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,maxWind,<span class="dt">color=</span><span class="st">&#39;Wind(m/h)&#39;</span>)) <span class="op">+</span>
<span class="st">    </span><span class="kw">theme_classic</span>() <span class="op">+</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span><span class="st">     </span><span class="kw">xlab</span>(<span class="st">&quot;Date&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Camp Muir(10k ft) &quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Variable&quot;</span>)


<span class="kw">grid.arrange</span>(g5, g6,<span class="dt">ncol=</span><span class="dv">2</span>, <span class="dt">top =</span> <span class="st">&quot;JJA - Daily Max Solar and Max Wind(Avg)  at 2 elevations&quot;</span>)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#ggplotly()</span></code></pre></div>
</div>
<div id="section-5" class="section level2">
<h2><span class="header-section-number">8.6</span> 5-21-2018</h2>
<p>Wrangle the microclimate data</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 5-21-2018
mclim_<span class="dv">2018</span>&lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;./data/DATALOG.5.15.2018.csv&#39;</span>)

<span class="co">#ggplotly()</span></code></pre></div>
<p>Look at the data</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 5-21-2018
<span class="kw">str</span>(mclim_<span class="dv">2018</span>)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    326489 obs. of  4 variables:
##  $ X2018.5.8.16.35.01: Factor w/ 73277 levels &quot;2018/5/10 0:00:03&quot;,..: 60336 60336 60336 60336 60336 60337 60338 60338 60338 60338 ...
##  $ X28CF6F0400008059 : Factor w/ 6 levels &quot;287F5B04000080C5&quot;,..: 1 5 6 4 3 2 1 5 6 4 ...
##  $ X14.31            : num  14.8 14.4 14.8 14.3 14.1 ...
##  $ X4.14             : num  4.14 4.14 4.14 4.14 4.14 4.14 4.14 4.14 4.14 4.14 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(mclim_<span class="dv">2018</span>) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;time&#39;</span>,<span class="st">&#39;nodeid&#39;</span>,<span class="st">&#39;temp&#39;</span>,<span class="st">&#39;batt&#39;</span>)
mclim_<span class="dv">2018</span><span class="op">$</span>time &lt;-<span class="st"> </span><span class="kw">as.POSIXct</span>(mclim_<span class="dv">2018</span><span class="op">$</span>time, <span class="st">&quot;%Y/%m/%d %H:%M:%S&quot;</span>)</code></pre></div>
<p>Add Hour, month and day</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 5-21-2018
mclim_<span class="dv">2018</span><span class="op">$</span>hr &lt;-<span class="st"> </span><span class="kw">hour</span>(mclim_<span class="dv">2018</span><span class="op">$</span>time)
mclim_<span class="dv">2018</span><span class="op">$</span>day &lt;-<span class="st"> </span><span class="kw">day</span>(mclim_<span class="dv">2018</span><span class="op">$</span>time)
mclim_<span class="dv">2018</span><span class="op">$</span>month&lt;-<span class="st"> </span><span class="kw">month</span>(mclim_<span class="dv">2018</span><span class="op">$</span>time)</code></pre></div>
<p>Basic plot (May 10th)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 5-21-2018
mclim_<span class="dv">2018</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">day</span>(time) <span class="op">%in%</span><span class="st"> &#39;10&#39;</span>) <span class="op">%&gt;%</span>
<span class="kw">ggplot</span>( <span class="kw">aes</span>(time,temp,<span class="dt">color =</span> nodeid)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>()</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#ggplotly()</span></code></pre></div>
<p>Whole week</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 5-21-2018
mclim_<span class="dv">2018</span> <span class="op">%&gt;%</span><span class="st"> </span>
<span class="kw">ggplot</span>( <span class="kw">aes</span>(time,temp,<span class="dt">color =</span> nodeid)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>()</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#ggplotly()</span></code></pre></div>
<p>Add heights (Roghly .25 m apart)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mclim_<span class="dv">2018</span><span class="op">$</span>height &lt;-<span class="st"> </span><span class="dv">0</span>

mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;28FF80E24316043F&#39;</span> ,]<span class="op">$</span>height &lt;-<span class="st"> </span><span class="fl">0.25</span>
mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;28FF7331441603A7&#39;</span> ,]<span class="op">$</span>height &lt;-<span class="st"> </span><span class="fl">0.5</span>
mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;287F5B04000080C5&#39;</span> ,]<span class="op">$</span>height &lt;-<span class="st"> </span><span class="fl">0.75</span>
mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;28FFB1C2501604A8&#39;</span> ,]<span class="op">$</span>height &lt;-<span class="st"> </span><span class="dv">1</span>
mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;28CF6F0400008059&#39;</span> ,]<span class="op">$</span>height &lt;-<span class="fl">1.25</span>
mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;28FF5B69501604F2&#39;</span> ,]<span class="op">$</span>height &lt;-<span class="st"> </span><span class="fl">1.5</span></code></pre></div>
<p>Basic plot (May 10th) - By height</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 5-21-2018
mclim_<span class="dv">2018</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">day</span>(time) <span class="op">%in%</span><span class="st"> &#39;10&#39;</span>) <span class="op">%&gt;%</span>
<span class="kw">ggplot</span>( <span class="kw">aes</span>(time,temp,<span class="dt">color =</span> <span class="kw">factor</span>(height))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>()</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#ggplotly()</span></code></pre></div>
<p>Add simulated wind profile</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mclim_<span class="dv">2018</span><span class="op">$</span>ws &lt;-<span class="st"> </span><span class="dv">0</span>
mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;287F5B04000080C5&#39;</span>,]<span class="op">$</span>ws &lt;-<span class="st"> </span><span class="fl">4.34</span>
mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;28FF80E24316043F&#39;</span> ,]<span class="op">$</span>ws &lt;-<span class="st"> </span><span class="fl">2.02</span>
mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;28FFB1C2501604A8&#39;</span> ,]<span class="op">$</span>ws &lt;-<span class="st"> </span><span class="fl">5.20</span>
mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;28FF7331441603A7&#39;</span> ,]<span class="op">$</span>ws &lt;-<span class="st"> </span><span class="fl">3.45</span>
mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;28FF5B69501604F2&#39;</span> ,]<span class="op">$</span>ws &lt;-<span class="st"> </span><span class="fl">7.56</span>
mclim_<span class="dv">2018</span>[mclim_<span class="dv">2018</span><span class="op">$</span>nodeid<span class="op">==</span><span class="st">&#39;28CF6F0400008059&#39;</span> ,]<span class="op">$</span>ws &lt;-<span class="fl">6.54</span></code></pre></div>
<p>Redo the plot by height</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 5-21-2018
mclim_<span class="dv">2018</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">day</span>(time) <span class="op">%in%</span><span class="st"> &#39;10&#39;</span>, height <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="fl">0.25</span>,<span class="dv">1</span>)) <span class="op">%&gt;%</span>
<span class="kw">ggplot</span>( <span class="kw">aes</span>(time,temp,<span class="dt">color =</span> <span class="kw">factor</span>(height))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>()</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>Redo the plot by height for Wind Speed</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 5-21-2018
mclim_<span class="dv">2018</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">day</span>(time) <span class="op">%in%</span><span class="st"> &#39;10&#39;</span>, height <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="fl">0.25</span>,<span class="fl">0.5</span>,<span class="fl">0.75</span>,<span class="dv">1</span>)) <span class="op">%&gt;%</span>
<span class="kw">ggplot</span>( <span class="kw">aes</span>(time,ws,<span class="dt">color =</span> <span class="kw">factor</span>(height))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>()</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>Calculate (Wind speed at any height = U_star/K*log(Z/Z0))</p>
<p>Calculate zero plane displcement</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#TODO - Do by each hour</span>
zeroDM&lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="kw">log</span>(mclim_<span class="dv">2018</span><span class="op">$</span>height) <span class="op">~</span><span class="st"> </span>mclim_<span class="dv">2018</span><span class="op">$</span>ws)
zD &lt;-<span class="st"> </span><span class="kw">exp</span>(zeroDM<span class="op">$</span>coeff[<span class="dv">1</span>])
<span class="co">#.16</span></code></pre></div>
<p>Calculate roughness and Z*</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#With zero plane dispacement</span>
sRM&lt;-<span class="st"> </span><span class="kw">lm</span>(mclim_<span class="dv">2018</span><span class="op">$</span>ws <span class="op">~</span><span class="st"> </span><span class="kw">log</span>(mclim_<span class="dv">2018</span><span class="op">$</span>height<span class="op">-</span>zD))

srIntercept &lt;-<span class="st"> </span>sRM<span class="op">$</span>coeff[<span class="dv">1</span>]
srSlope &lt;-<span class="st"> </span>sRM<span class="op">$</span>coeff[<span class="dv">2</span>]

K=<span class="fl">0.4</span> <span class="co"># Von Karman constant</span>

z0&lt;-<span class="st">  </span><span class="kw">exp</span>(<span class="op">-</span>srIntercept<span class="op">/</span>srSlope) <span class="co">#0.04</span>
U_star&lt;-<span class="st">  </span>srSlope<span class="op">*</span>K</code></pre></div>
<p>Repeat this for each site ## 7-21-2018</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#With zero plane dispacement</span>
<span class="kw">library</span>(rgdal) <span class="co">#this package is necessary to import the .asc file in R.</span></code></pre></div>
<pre><code>## Loading required package: sp</code></pre>
<pre><code>## rgdal: version: 1.2-20, (SVN revision 725)
##  Geospatial Data Abstraction Library extensions to R successfully loaded
##  Loaded GDAL runtime: GDAL 2.1.3, released 2017/20/01
##  Path to GDAL shared files: /Library/Frameworks/R.framework/Versions/3.5/Resources/library/rgdal/gdal
##  GDAL binary built with GEOS: FALSE 
##  Loaded PROJ.4 runtime: Rel. 4.9.3, 15 August 2016, [PJ_VERSION: 493]
##  Path to PROJ.4 shared files: /Library/Frameworks/R.framework/Versions/3.5/Resources/library/rgdal/proj
##  Linking to sp version: 1.2-7</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rasterVis) <span class="co">#this package has the function which allows the 3D plotting.</span></code></pre></div>
<pre><code>## Loading required package: raster</code></pre>
<pre><code>## 
## Attaching package: &#39;raster&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     select</code></pre>
<pre><code>## The following object is masked from &#39;package:tidyr&#39;:
## 
##     extract</code></pre>
<pre><code>## Loading required package: lattice</code></pre>
<pre><code>## Loading required package: latticeExtra</code></pre>
<pre><code>## Loading required package: RColorBrewer</code></pre>
<pre><code>## 
## Attaching package: &#39;latticeExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     layer</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#set the path where the file is, and import it into R.</span>
r=<span class="st"> </span><span class="kw">raster</span>(<span class="kw">paste</span>(<span class="st">&quot;./data/rainier_2012_dtm_5_hs.tif&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>))

<span class="co">#visualize the raster in 3D</span>
<span class="kw">plot</span>(r,<span class="dt">lit=</span><span class="ot">TRUE</span>)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
fs &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path=</span><span class="st">&quot;./data&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;rainier*&quot;</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>)

r1 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">1</span>])
r1[] &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw">ncell</span>(r1)
r2 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">2</span>])
r3 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">3</span>])
r4 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">4</span>])
<span class="kw">res</span>(r2) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">xres</span>(r1), <span class="kw">yres</span>(r1))
r2[] &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw">ncell</span>(r2)
r3[] &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw">ncell</span>(r3)
r4[] &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw">ncell</span>(r4)

x &lt;-<span class="st"> </span><span class="kw">list</span>(r1, r2,r3,r4)
x<span class="op">$</span>filename &lt;-<span class="st"> &#39;test.tif&#39;</span>
x<span class="op">$</span>overwrite &lt;-<span class="st"> </span><span class="ot">TRUE</span>
m &lt;-<span class="st"> </span><span class="kw">do.call</span>(merge, x)</code></pre></div>
<p>Combining multiple rasters into one single file.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fs &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path=</span><span class="st">&quot;./data&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;rainier_2007_*&quot;</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>)
<span class="kw">library</span>(raster)

r1 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">1</span>])
r2 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">2</span>])
r3 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">3</span>])
r4 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">4</span>])
r5 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">5</span>])
r6 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">6</span>])
r7 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">7</span>])
r8 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">8</span>])
r9 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">9</span>])
r10 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">10</span>])
r11 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">11</span>])
r12 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">12</span>])
r13 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">13</span>])
r14 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">14</span>])
r15 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">15</span>])
r16 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">16</span>])
r17 &lt;-<span class="st"> </span><span class="kw">raster</span>(fs[<span class="dv">17</span>])

<span class="co"># if you have a list of Raster objects, you can use do.call</span>
x &lt;-<span class="st"> </span><span class="kw">list</span>(r1, r2, r3,r4,r5,r6,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17)
<span class="kw">names</span>(x)[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>)
x<span class="op">$</span>fun &lt;-<span class="st"> </span>mean
x<span class="op">$</span>na.rm &lt;-<span class="st"> </span><span class="ot">TRUE</span>

<span class="co">#y &lt;- do.call(mosaic, x)</span>

<span class="co">#writeRaster(y, &quot;./data/combined_mtr.TIF&quot;)</span></code></pre></div>
</div>
<div id="section-6" class="section level2">
<h2><span class="header-section-number">8.7</span> 7-25-2018</h2>
<p>Check the diurnal variation for summer, using Paradise as a proxy</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Paradise_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(date,month,hr) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(month,Solar.Pyranometer..W.m2.)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() </code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#.16</span></code></pre></div>
<p>Use SNOTEL data from Paradise(Latitude: 46.78 Longitude: -121.74)</p>
<p>Check the diurnal variation for summer, using Paradise as a proxy</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Paradise_Snotel_<span class="dv">2013</span>&lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;./data/679_STAND_WATERYEAR=2013.csv&#39;</span>)
Paradise_Snotel_<span class="dv">2013</span><span class="op">$</span>date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(Paradise_Snotel_<span class="dv">2013</span><span class="op">$</span>Date, <span class="st">&quot;%Y-%m-%d&quot;</span>)
Paradise_Snotel_<span class="dv">2013</span><span class="op">$</span>month &lt;-<span class="st"> </span><span class="kw">strftime</span>(Paradise_Snotel_<span class="dv">2013</span><span class="op">$</span>Date,<span class="st">&#39;%m&#39;</span>)

Paradise_Snotel_<span class="dv">2012</span>&lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;./data/679_STAND_WATERYEAR=2012.csv&#39;</span>)
Paradise_Snotel_<span class="dv">2012</span><span class="op">$</span>date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(Paradise_Snotel_<span class="dv">2012</span><span class="op">$</span>Date, <span class="st">&quot;%Y-%m-%d&quot;</span>)
Paradise_Snotel_<span class="dv">2012</span><span class="op">$</span>month &lt;-<span class="st"> </span><span class="kw">strftime</span>(Paradise_Snotel_<span class="dv">2012</span><span class="op">$</span>Date,<span class="st">&#39;%m&#39;</span>)

Paradise_Snotel_<span class="dv">2011</span>&lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;./data/679_STAND_WATERYEAR=2011.csv&#39;</span>)
Paradise_Snotel_<span class="dv">2011</span><span class="op">$</span>date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(Paradise_Snotel_<span class="dv">2011</span><span class="op">$</span>Date, <span class="st">&quot;%Y-%m-%d&quot;</span>)
Paradise_Snotel_<span class="dv">2011</span><span class="op">$</span>month &lt;-<span class="st"> </span><span class="kw">strftime</span>(Paradise_Snotel_<span class="dv">2011</span><span class="op">$</span>Date,<span class="st">&#39;%m&#39;</span>)

Paradise_Snotel_<span class="dv">2013</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(date,month) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">diva=</span>TMAX.D.<span class="dv">1</span>..degC.<span class="op">-</span>TMIN.D.<span class="dv">1</span>..degC.)<span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,TMIN.D.<span class="dv">1</span>..degC.,<span class="dt">colour=</span><span class="st">&#39;min&#39;</span>))  <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,TMAX.D.<span class="dv">1</span>..degC.,<span class="dt">colour=</span><span class="st">&#39;max&#39;</span>)) <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,diva,<span class="dt">colour=</span><span class="st">&#39;diurnal variation&#39;</span>))<span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>()</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#.16</span></code></pre></div>
<p>Only Summer</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Paradise_Snotel_<span class="dv">2013</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(date,month) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">as.numeric</span>(month) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">diva=</span>TMAX.D.<span class="dv">1</span>..degC.<span class="op">-</span>TMIN.D.<span class="dv">1</span>..degC.)<span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,TMIN.D.<span class="dv">1</span>..degC.,<span class="dt">colour=</span><span class="st">&#39;min&#39;</span>))  <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,TMAX.D.<span class="dv">1</span>..degC.,<span class="dt">colour=</span><span class="st">&#39;max&#39;</span>))<span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,TAVG.D.<span class="dv">1</span>..degC.,<span class="dt">colour=</span><span class="st">&#39;avg&#39;</span>)) <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,diva,<span class="dt">colour=</span><span class="st">&#39;diurnal variation&#39;</span>))<span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>() <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Date&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Snotel Paradise - Water year 2013 &quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Metric&quot;</span>)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#.16</span></code></pre></div>
<p>For 2012</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Paradise_Snotel_<span class="dv">2012</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(date,month) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">as.numeric</span>(month) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>) <span class="op">&amp;</span><span class="st"> </span>TMIN.D.<span class="dv">1</span>..degC. <span class="op">!=</span><span class="st"> </span><span class="op">-</span><span class="fl">99.9</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">diva=</span>TMAX.D.<span class="dv">1</span>..degC.<span class="op">-</span>TMIN.D.<span class="dv">1</span>..degC.)<span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,TMIN.D.<span class="dv">1</span>..degC.,<span class="dt">colour=</span><span class="st">&#39;min&#39;</span>))  <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,TMAX.D.<span class="dv">1</span>..degC.,<span class="dt">colour=</span><span class="st">&#39;max&#39;</span>))<span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,TAVG.D.<span class="dv">1</span>..degC.,<span class="dt">colour=</span><span class="st">&#39;avg&#39;</span>)) <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,diva,<span class="dt">colour=</span><span class="st">&#39;diurnal variation&#39;</span>))<span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>() <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Date&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Snotel Paradise - Water year 2012 &quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Metric&quot;</span>)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#.16</span></code></pre></div>
<p>For 2011</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Paradise_Snotel_<span class="dv">2011</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(date,month) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">as.numeric</span>(month) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">diva=</span>TMAX.D.<span class="dv">1</span>..degC.<span class="op">-</span>TMIN.D.<span class="dv">1</span>..degC.)<span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,TMIN.D.<span class="dv">1</span>..degC.,<span class="dt">colour=</span><span class="st">&#39;min&#39;</span>))  <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,TMAX.D.<span class="dv">1</span>..degC.,<span class="dt">colour=</span><span class="st">&#39;max&#39;</span>))<span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,TAVG.D.<span class="dv">1</span>..degC.,<span class="dt">colour=</span><span class="st">&#39;avg&#39;</span>)) <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(date,diva,<span class="dt">colour=</span><span class="st">&#39;diurnal variation&#39;</span>))<span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>() <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Date&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Snotel Paradise - Water year 2011 &quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Metric&quot;</span>)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#.16</span></code></pre></div>
</div>
<div id="section-7" class="section level2">
<h2><span class="header-section-number">8.8</span> 7-26-2018</h2>
<p>Lets look at the diurnal variation for three months, need to switch to NWAC as Snotel does not provide hourly breakdown</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Paradise_5400_<span class="dv">2017</span>&lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;./data/Paradise_5400_feet_2017.csv&#39;</span>)
Paradise_5400_<span class="dv">2016</span>&lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;./data/Paradise_5400_feet_2016.csv&#39;</span>)
Paradise_5400_<span class="dv">2015</span>&lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;./data/Paradise_5400_feet_2015.csv&#39;</span>)

Paradise_5400_<span class="dv">2017</span><span class="op">$</span>date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(Paradise_5400_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST., <span class="st">&quot;%Y-%m-%d&quot;</span>)
Paradise_5400_<span class="dv">2017</span><span class="op">$</span>datetime &lt;-<span class="st"> </span><span class="kw">as.Date</span>(Paradise_5400_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST., <span class="st">&quot;%Y-%m-%d %H:%M&quot;</span>)
<span class="kw">library</span>(lubridate)
<span class="kw">library</span>(gridExtra)
Paradise_5400_<span class="dv">2017</span><span class="op">$</span>hr &lt;-lubridate<span class="op">::</span><span class="kw">hour</span>(lubridate<span class="op">::</span><span class="kw">as_datetime</span>(Paradise_5400_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.))
Paradise_5400_<span class="dv">2017</span><span class="op">$</span>min &lt;-lubridate<span class="op">::</span><span class="kw">minute</span>(lubridate<span class="op">::</span><span class="kw">as_datetime</span>(Paradise_5400_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.))
Paradise_5400_<span class="dv">2017</span><span class="op">$</span>month &lt;-<span class="st"> </span><span class="kw">strftime</span>(Paradise_5400_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.,<span class="st">&#39;%m&#39;</span>)
Paradise_5400_<span class="dv">2017</span><span class="op">$</span>day &lt;-<span class="kw">strftime</span>(Paradise_5400_<span class="dv">2017</span><span class="op">$</span>Date.Time..PST.,<span class="st">&#39;%d&#39;</span>)

Paradise9&lt;-<span class="st"> </span>Paradise_5400_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(date,month,day,hr) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">as.numeric</span>(month) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">as.numeric</span>(day) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">9</span>) ) <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="kw">as.numeric</span>(hr),Temperature..deg.F.,<span class="dt">group=</span>month,<span class="dt">color=</span>month)) <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>() <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Hour&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Temperature&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Paradise 5400 NWAC - Calendar year 2017  - 9th day&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Month&quot;</span>)
Paradise16&lt;-<span class="st"> </span>Paradise_5400_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(date,month,day,hr) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">as.numeric</span>(month) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">as.numeric</span>(day) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">16</span>) ) <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="kw">as.numeric</span>(hr),Temperature..deg.F.,<span class="dt">group=</span>month,<span class="dt">color=</span>month)) <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>() <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Hour&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Temperature&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Paradise 5400 NWAC - Calendar year 2017  - 16th day&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Month&quot;</span>)
Paradise23&lt;-<span class="st"> </span>Paradise_5400_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(date,month,day,hr) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">as.numeric</span>(month) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">as.numeric</span>(day) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">23</span>) ) <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="kw">as.numeric</span>(hr),Temperature..deg.F.,<span class="dt">group=</span>month,<span class="dt">color=</span>month)) <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>() <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Hour&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Temperature&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Paradise 5400 NWAC - Calendar year 2017  - 23rd day&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Month&quot;</span>)

<span class="kw">grid.arrange</span>(Paradise9,Paradise16,Paradise23)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p>Days overlapping eath other</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Paradise_5400_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(date,month,day,hr) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">as.numeric</span>(month) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">as.numeric</span>(day) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>,<span class="dv">16</span>,<span class="dv">17</span>,<span class="dv">18</span>,<span class="dv">19</span>,<span class="dv">20</span>) ) <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="kw">as.numeric</span>(hr),Temperature..deg.F.,<span class="dt">shape=</span>day,<span class="dt">group=</span><span class="dv">7</span>,<span class="dt">color=</span>month)) <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>() <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Hour&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Temperature&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Paradise 5400 NWAC - Calendar year 2017  - Days(15-20) &quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Month&quot;</span>)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<p>Removing symbols, each line representing different day of the month</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Paradise_5400_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(date,month,day,hr) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">as.numeric</span>(month) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">as.numeric</span>(day) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>,<span class="dv">16</span>,<span class="dv">17</span>,<span class="dv">18</span>,<span class="dv">19</span>,<span class="dv">20</span>) ) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> hr, <span class="dt">y =</span> Temperature..deg.F.,<span class="dt">color=</span>month)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;07&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;15&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;08&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;15&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;09&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;15&quot;</span>)  ))  <span class="op">+</span>
<span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;07&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;16&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;08&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;16&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;09&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;16&quot;</span>)  ))  <span class="op">+</span>
<span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;07&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;17&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;08&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;17&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;09&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;17&quot;</span>)  ))  <span class="op">+</span><span class="st">  </span>
<span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;07&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;18&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;08&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;18&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;09&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;18&quot;</span>)  ))  <span class="op">+</span><span class="st">  </span>
<span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;07&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;19&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;08&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;19&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;09&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;19&quot;</span>)  ))  <span class="op">+</span><span class="st"> </span>
<span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;07&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;20&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;08&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;20&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;09&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;20&quot;</span>)  ))  <span class="op">+</span><span class="st">    </span>
<span class="kw">theme_minimal</span>() <span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Hour&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Temperature&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Paradise 5400 NWAC - Calendar year 2017  - Days(15-18) &quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Month&quot;</span>)<span class="op">+</span><span class="kw">geom_jitter</span>()</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p>Removing symbols, point plot</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Paradise_5400_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(date,month,day,hr) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">as.numeric</span>(month) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">as.numeric</span>(day) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>,<span class="dv">16</span>,<span class="dv">17</span>,<span class="dv">18</span>,<span class="dv">19</span>,<span class="dv">20</span>) ) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> hr, <span class="dt">y =</span> Temperature..deg.F.,<span class="dt">color=</span>month)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;07&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;15&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>)))<span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;08&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;15&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>)  ))<span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">data =</span> <span class="kw">subset</span>(Paradise_5400_<span class="dv">2017</span>,month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;09&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;15&quot;</span>,<span class="st">&quot;16&quot;</span>,<span class="st">&quot;17&quot;</span>,<span class="st">&quot;18&quot;</span>,<span class="st">&quot;19&quot;</span>,<span class="st">&quot;20&quot;</span>)  ))  <span class="op">+</span><span class="kw">theme_minimal</span>() <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Hour&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Temperature&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Paradise 5400 NWAC - Calendar year 2017  - Days(15-18) &quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Month&quot;</span>)</code></pre></div>
<p><img src="Research_book_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>

<div id="refs" class="references">
<div>
<p>John, Aji. 2018. <em>Time Seriously</em>. 1st ed. Seattle, Washington: Chapman; Hall/CRC. <a href="http://ajijohn.com" class="uri">http://ajijohn.com</a>.</p>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="references.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/08-dailylog.Rmd",
"text": "Edit"
},
"download": ["Research book.pdf", "Research book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
